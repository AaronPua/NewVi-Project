<!DOCTYPE html>
<html>
    <!-- This is the answer page panel -->
<head>
  <title>Test responsive canvas</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
  <script>
    // Canvas constructor 
    function answerFrame() {
      // Constructing canvas 
      var answer = document.getElementById("answerPanel");
      var ctx = answer.getContext("2d");
      // width and height of the canvas 
      var w = answer.width;
      var h = answer.height;
      // Array of all possible color values used in this game 
      var colors = ["red", "yellow", "blue", "black", "purple", "brown", "cyan", "orange"];
      // Padding used to adjust position 
      var pad = 20;
      //The object to be used to test the user, either 1 or 2 
      var tag = "Box 1";
      // The question Number to test the user in one round
      var slide = "Slide 1";
      // The correct answers Number value
      var numChoice = 1;
      // The correct answers color value
      var colorChoice = "red";
      // Setting up fond information and begin the drawing
      ctx.beginPath();
      ctx.font = "bold 20px Aerial ";
      ctx.textBaseline = "bottom";

      /**
      * prints the number within the a tile
      * @param w The width of the canvas
      * @param h The height of the canvas
      */
      function printNum(w, h) {
        ctx.closePath();
        ctx.beginPath();
        ctx.fillStyle = "white";
        ctx.fillText(numChoice, w, h);
      }

      /**
      * Get a random number range from 0 to the max index of colors array
      */
      function getRandom() {
        return Math.floor(Math.random() * (colors.length - 1));
      }

      /**
      * Get the correct answers location within the color array
      */
      function getAnswerIndex() {
        for(var i = 0; i < colors.length; i++) {
          if(colors[i] == colorChoice) {
            return i;
          }
        }
      }

      /**
      * Paint the tile with a random color and remove the color from the array 
      * @param answer If this tile contains the correct answer 
      */
      function paint(x, y, w, h, answer) {
        // Receive the random color value
        var randomVal = getRandom();
        ctx.closePath();
        ctx.beginPath();
        //If this is the tile for the right answer, paint the color of choice(red in this case)
        if (answer == 1) {
          ctx.fillStyle = colorChoice;
          ctx.fillRect(x, y, w, h);
          //Get the red's location within the array and remove it.
          colors.splice(getAnswerIndex(), 1);
        } else {
          // Else find a random color value and paint the tile
          while (colors[randomVal] == colorChoice) {
            randomVal = getRandom();
          }
          ctx.fillStyle = colors[randomVal];
          ctx.fillRect(x, y, w, h);
          colors.splice(randomVal, 1);
        }
      }

      /**
      * Prints the tag and slide
      */
      function showFillText() {
        ctx.fillText(tag, w / 2 - pad, h / 8);
        ctx.fillText(slide, w / 2 - pad, h / 5);
      }

      /**
      * Paints the tile and a number, 
      * if the tile is the correct one, pass 1 to paint function
      */
      function tile1(answerTile) {
        if (answerTile == 1) {
          paint((w / 2), (h / 2 + pad), w / 3, h / 3, 1)
        } else {
          paint(w / 2 - w / 3, h / 2 - h / 3 + pad, w / 3, h / 3, 0);
        }
        printNum(w / 2 - w / 4 + pad, h / 2 - pad);
      }

      function tile2(answerTile) {
        if (answerTile == 2) {
          paint((w / 2), (h / 2 + pad), w / 3, h / 3, 1)
        } else {
          paint((w / 2), (h / 2 - h / 3 + pad), w / 3, h / 3, 0);
        }
        printNum(w / 2 + w / 4 - pad - pad / 4, h / 2 - pad);
      }

      function tile3(answerTile) {
        if (answerTile == 3) {
          paint((w / 2), (h / 2 + pad), w / 3, h / 3, 1)
        } else {
          paint((w / 2 - w / 3), (h / 2 + pad), w / 3, h / 3, 0);
        }
        printNum(w / 2 - w / 4 + pad, h / 2 + h / 4 + pad / 4);
      }

      function tile4(answerTile) {
        if (answerTile == 4) {
          paint((w / 2), (h / 2 + pad), w / 3, h / 3, 1)
        } else {
          paint((w / 2), (h / 2 + pad), w / 3, h / 3, 0);
        }
        printNum(w / 2 + w / 4 - pad - pad / 4, h / 2 + h / 4 + pad / 4);
      }

      /**
      * Construct everything, assign the correct answer tile
      * Reset color array after everything finished constructing 
      */
      function assemble() {
        var answerTile = Math.floor((Math.random() * 4) + 1);
        showFillText();
        tile1(answerTile);
        tile2(answerTile);
        tile3(answerTile);
        tile4(answerTile);
        var colors = ["red", "yellow", "blue", "black", "purple", "brown", "cyan", "orange"];
      }

      assemble();

      /**
      * Frame for testing 
      */
      ctx.rect(0, 0, w, h);
      ctx.stroke();
      ctx.closePath();
    }
  </script>
</head>

<body onLoad="answerFrame()">
  <div class="container">
    <div class="col-lg-12 col-md-12 col-sm-12 text-center">
      <canvas id="answerPanel" width="300" height="300"></canvas>
    </div>
  </div>
</body>

</html>